<div ms-controller="add_contest">
    <form id="add-contest-form">
        <div class="col-md-9">
            <div class="col-md-12">
                <label>比赛名称</label>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <input type="text" name="name" class="form-control" ms-duplex="title"
                           data-error="请填写比赛名称(名称不能超过50个字)" ms-attr-readonly="contestCreated" required>

                    <div class="help-block with-errors"></div>
                </div>
            </div>
            <div class="col-md-12">
                <label>说明</label>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <textarea id="editor" placeholder="这里输入内容" autofocus ms-duplex="description"></textarea>
                    <p class="error-info" ms-visible="description==''">请填写比赛描述</p>
                </div>
            </div>
            <div class="col-md-6">
                <label>开始时间</label>
                <div class="form-group">
                    <input type="text" class="form-control" name="start_time" id="contest_start_time"
                           ms-duplex="startTime" data-error="请填写比赛开始时间" required>

                    <div class="help-block with-errors"></div>
                </div>
            </div>
            <div class="col-md-6">
                <label>结束时间</label>
                <div class="form-group">
                    <input type="text" class="form-control" name="end_time" id="contest_end_time"
                           ms-duplex="endTime" data-error="请填写比赛结束时间" required>

                    <div class="help-block with-errors"></div>
                </div>
            </div>
            <div class="col-md-6">
                <label>允许参加的用户</label>
                <div class="form-group">
                    <select class="form-control" ms-duplex="group" ms-change="addGroup" value="-1">
                        <option value="-1">请选择</option>
                        <option ms-repeat="groupList" ms-attr-value="$index" ms-visible="!el.chose">{{el.name}}</option>
                    </select>
                </div>
            </div>
            <div class="col-md-6" ms-visible="passwordUsable">
                <label>密码保护</label>
                <div class="form-group">
                    <input type="text" class="form-control" name="password" placeholder="留空就是公开赛" ms-duplex="password">
                </div>
            </div>
            <div class="col-md-12">
                <div ms-repeat="choseGroupList" class="group-tag" ms-click="removeGroup($index)">{{el.name}}</div>
            </div>
            <div class="col-md-6">
                <label>排名方式</label>
            </div>
            <div class="col-md-3">
                <label>结束前是否开放排名</label>
            </div>
            <div class="col-md-3">
                <label>是否公开提交记录</label>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label><input type="radio" name="mode" ms-duplex-string="mode" value="0">
                        <small>ACM</small>
                    </label>
                    <label><input type="radio" name="mode" ms-duplex-string="mode" value="1">
                        <small>AC数量</small>
                    </label>
                    <label><input type="radio" name="mode" ms-duplex-string="mode" value="2">
                        <small>分数</small>
                    </label>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label class="text"><input type="checkbox" ms-duplex-checked="showRank">
                        <small>开放排名</small>
                    </label>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label class="text"><input type="checkbox" ms-duplex-checked="showSubmission">
                        <small>允许查看提交记录</small>
                    </label>
                </div>
            </div>
            <div class="col-md-12">
                <input type="submit" class="btn btn-success btn-lg" value="发布比赛">
            </div>
        </div>

    </form>
</div>

<script src="/static/js/app/admin/contest/addContest.js"></script>
